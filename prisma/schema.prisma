// schema.prisma

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Device {
  id                    String   @id @default(cuid())
  tid                   String
  serial_number         String
  sim                   String
  status                String
  provisioned_at       DateTime? @default(null)
  provisioned_location  String?  @default(null)
  provisioned_by       String?  @default(null)
  merchant_id          String
  merchant_name        String   @default("") // Add this line
  merchant_emirate     String?  @default(null)
  tms_profile          String?  @default(null)
  handover_to          String?  @default(null)
  handover_date        DateTime? @default(null)
  replacement_for      String?  @default(null)
  replacement_type     String   @default("GREEN_FIELD")
}
model Merchant {
  id         String    @id @default(uuid())
  name       String
  emirate    String
  devices    Device[]
  created_at DateTime  @default(now())
}

enum DeviceStatus {
  AVAILABLE
  PROVISIONED
  FAULTY
  REASSIGNED
}

enum ReplacementType {
  GREEN_FIELD
  REPLACEMENT
}
